(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return __webpack_require__(55321)}])},55321:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return HomePage}});var jsx_runtime=__webpack_require__(85893),dist=__webpack_require__(34544),wagmi_dist=__webpack_require__(57421),react=__webpack_require__(67294),next_router=__webpack_require__(11163),axios=__webpack_require__(9669),axios_default=__webpack_require__.n(axios);let instance=axios_default().create({baseURL:"http://localhost:3001",timeout:6e4,headers:{"Content-Type":"application/json"}}),post=function(url){let params=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return instance({method:"post",url,data:params})};async function sign(sign){return await post("/ticket",{sign})}function HomePage(){var router=(0,next_router.useRouter)();let{isConnected,address}=(0,wagmi_dist.mA)(),discordId=router.query.discordId,discordUserName=router.query.discordUserName;(0,react.useEffect)(()=>{discordId&&console.log("discordId",discordId)},[discordId]);let signMessage=(0,wagmi_dist.QW)();return(0,react.useEffect)(()=>{isConnected&&signMessage&&signMessage.signMessageAsync({message:"\npurpose:	Verify address\n\ndiscordId:	".concat(discordId,"\n\ndiscordName:	").concat(discordUserName,"\n\nowner:	").concat(address)}).then(result=>{console.log("result:",result),sign(result).then(r=>{console.log("query result is",r)})}).catch(err=>{console.error("err:",err)})},[isConnected]),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)("h1",{children:"Sign message"})}),(0,jsx_runtime.jsx)(dist.tn,{})]})}}},function(__webpack_require__){__webpack_require__.O(0,[400,774,888,179],function(){return __webpack_require__(__webpack_require__.s=48312)}),_N_E=__webpack_require__.O()}]);